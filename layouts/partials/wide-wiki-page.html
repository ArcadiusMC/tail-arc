{{$has_toc := .include_toc}}
{{$sidebar_param := .has_sidebar}}
{{$has_sidebar := (or (eq $sidebar_param "true") (eq $sidebar_param nil))}}
{{$code_font := (eq .codefont true)}}

{{with .page}}

<article class="mx-auto max-w-fit bg-white dark:bg-slate-800 dark:bg-opacity-95 lg:p-10">
  <div class="flex flex-col lg:flex-row">
    {{if $has_sidebar}}
      {{partial "side-navbar.html" . }}
    {{end}}
    
    <div style="max-width: none;" class="widewiki-min-w max-lg:w-screen">
      <h1 class="{{if $code_font}}codefont{{end}} text-5xl {{if (not $has_sidebar)}}pb-5{{end}} lg:ml-5 pb-3 sidebar-lmargin font-bold text-black dark:text-white max-lg:bg-slate-900 lg:text-left text-center">
        {{.Title}}
      </h1>

      <div class="px-6 {{if $has_sidebar}}pt-6{{end}} pb-16 min-h-screen prose dark:prose-invert dark:text-white">
        {{.Content}}
      </div>

      <div>
        {{ partial "git-info.html" . }}
      </div>
    </div>

    {{if $has_toc}}
      <div class="prose text-white prose-invert sticky max-lg:hidden">
        {{partial "toc.html" .}}
      </div>
    {{end}}
  </div>
</article>
{{end}}